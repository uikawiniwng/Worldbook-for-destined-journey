{
    "id": "8c39d909-833b-4b66-bb0d-b212c0335a54",
    "scriptName": "(二选一)阿比盖尔核心美化-里",
    "findRegex": "/<Foreigner\\s+name=[\"'](.*?)[\"']\\s+mood=[\"'](.*?)[\"'][^>]*>\\s*[「]?\\s*([\\s\\S]*?)\\s*[」]?\\s*<\\/Foreigner>/g",
    "replaceString": "<div class=\"abby-void-layout\"><link href=\"https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Noto+Serif+SC:wght@400;700&display=swap\" rel=\"stylesheet\"><div class=\"bg-layer\"><div class=\"void-base-bg\"></div><div class=\"noise-overlay\"></div><div class=\"chaos-blob blob-chartreuse\"></div><div class=\"chaos-blob blob-purple\"></div><div class=\"chaos-blob blob-blue\"></div><div class=\"texture-overlay\"></div><div class=\"tidal-wave\"></div></div><div class=\"yog-sphere-group\"><div class=\"sphere s-main\"><div class=\"sphere-pupil\"></div><div class=\"sphere-shine\"></div></div><div class=\"sphere s-orbit-1\"><div class=\"sphere-pupil\"></div></div><div class=\"sphere s-orbit-2\"></div><div class=\"tentacle-hint\"></div></div><div class=\"pendulum-mechanism\"><div class=\"liquid-ring-outer\"></div><div class=\"liquid-ring-inner\"></div><div class=\"key-scaler\"><div class=\"key-spinner css-key-wrapper\"><div class=\"ek-handle\"></div><div class=\"ek-shaft\"></div><div class=\"ek-bit\"></div></div></div><div class=\"eye-axis\"></div></div><div class=\"portrait-wrapper\"><div class=\"portrait-frame-rect\"><div class=\"portrait-inner\" style=\"background-image: url('https://cdn.jsdelivr.net/gh/AkabaneSaki/myrepo@main/picture/abby_l/$2{{getvar::system_skin}}.png');\"></div><div class=\"frame-overlay\"></div></div></div><div class=\"content-wrapper\"><div class=\"abby-header\"><div class=\"header-rune\">✦</div><span class=\"abby-name-text\">$1</span><div class=\"header-line-fluid\"></div></div><div class=\"abby-content\">$3</div></div></div><style>.abby-void-layout{--void-base:#020005;--witch-purple:#7b1fa2;--witch-cyan:#00e5ff;--madness-pink:#ff0055;--toxic-chartreuse:#8fff00;--deep-abyss-blue:#000a3d;--text-color:#e0f7fa;--mithril-white:#f0f8ff;font-family:'Noto Serif SC',serif;color:var(--text-color);position:relative;margin:20px 0 20px 10px;padding:20px;overflow:hidden;z-index:1;border:1px solid rgba(123,31,162,0.3);border-radius:12px;box-shadow:0 0 30px rgba(0,0,0,0.9),inset 0 0 100px rgba(0,0,0,0.9);transition:all 0.5s cubic-bezier(0.25,0.8,0.25,1);min-height:240px;display:block}.abby-void-layout::before{content:'';position:absolute;inset:0;border-radius:12px;padding:1.5px;background:linear-gradient(45deg,var(--witch-purple),var(--witch-cyan),var(--toxic-chartreuse),var(--madness-pink));-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;animation:border-rotate 4s linear infinite;opacity:0.6;pointer-events:none;z-index:10}.abby-void-layout:hover{box-shadow:0 0 50px rgba(123,31,162,0.6),inset 0 0 80px rgba(0,0,0,0.8);border-color:var(--witch-cyan)}.bg-layer{position:absolute;inset:0;z-index:-10}.void-base-bg{position:absolute;inset:0;background:var(--void-base);z-index:-3}.noise-overlay{position:absolute;inset:-50%;width:200%;height:200%;background-image:url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E\");opacity:0.05;mix-blend-mode:overlay;animation:noise-shift 0.5s steps(3) infinite;pointer-events:none;z-index:-1}.chaos-blob{position:absolute;opacity:0.5;filter:blur(70px);mix-blend-mode:hard-light;border-radius:40% 60% 70% 30% / 40% 50% 60% 50%}.blob-chartreuse{top:-50%;left:-60%;width:180%;height:180%;background:linear-gradient(120deg,var(--toxic-chartreuse),transparent);animation:blob-float-left 29s ease-in-out infinite alternate,color-rot-medium 41s linear infinite}.blob-purple{top:-40%;left:-20%;width:180%;height:180%;background:linear-gradient(45deg,var(--witch-purple),var(--madness-pink));animation:blob-float-purple 23s ease-in-out infinite alternate,color-rot-fast 37s linear infinite reverse}.blob-blue{bottom:-40%;right:-40%;width:200%;height:200%;background:linear-gradient(135deg,transparent,var(--deep-abyss-blue),var(--witch-cyan));animation:blob-float-blue 31s ease-in-out infinite alternate-reverse,color-rot-slow 53s linear infinite}.abby-void-layout:hover .chaos-blob{filter:blur(40px);opacity:0.7}.texture-overlay{position:absolute;inset:0;background:radial-gradient(circle,rgba(255,255,255,0.05),transparent);z-index:-1;opacity:0.4;mix-blend-mode:overlay}.tidal-wave{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:2;overflow:hidden}.tidal-wave::after{content:'';position:absolute;top:-50%;left:-100%;width:60%;height:200%;background:linear-gradient(90deg,transparent,rgba(0,229,255,0.05),rgba(255,255,255,0.2),rgba(0,229,255,0.05),transparent);transform:skewX(-10deg);animation:tide-flow 12s ease-in-out infinite}.portrait-wrapper{position:absolute;top:25px;left:25px;z-index:10;transition:all 0.3s}.portrait-frame-rect{width:120px;height:160px;border:2px double var(--witch-cyan);box-shadow:0 0 15px rgba(123,31,162,0.4), 0 0 30px rgba(0,0,0,0.8);overflow:hidden;background:#000;transform:rotate(-1deg);border-radius:3px;transition:transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);position:relative}.portrait-frame-rect::after{content:'';position:absolute;inset:0;border:1px solid var(--witch-purple);opacity:0.6;pointer-events:none}.portrait-frame-rect:hover{transform:rotate(0deg) scale(1.05);box-shadow:0 0 25px var(--witch-purple), 0 0 10px var(--witch-cyan);border-color:var(--mithril-white)}.portrait-inner{width:100%;height:100%;background-size:cover;background-position:center top;filter:contrast(1.1) saturate(1.1)}.frame-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom, transparent 60%, rgba(2,0,5,0.8));pointer-events:none;box-shadow:inset 0 0 10px rgba(123,31,162,0.3)}.content-wrapper{margin-left:160px;position:relative;z-index:5}.abby-header{position:relative;display:flex;align-items:center;margin-bottom:15px;z-index:2;padding-right:60px;border-bottom:1px solid rgba(123,31,162,0.3);padding-bottom:10px}.header-rune{color:var(--witch-purple);font-size:1.2em;margin-right:10px;text-shadow:0 0 5px var(--witch-purple);animation:rune-flicker 5s infinite}.abby-name-text{font-family:'Cinzel',serif;font-size:1.5em;font-weight:700;color:#fff;letter-spacing:2px;text-shadow:0 0 10px rgba(123,31,162,0.6);transition:all 0.3s ease}.abby-void-layout:hover .abby-name-text{animation:text-glitch 0.3s cubic-bezier(.25, .46, .45, .94) both infinite}.header-line-fluid{flex-grow:1;height:2px;background:linear-gradient(90deg,var(--witch-purple),transparent);margin-left:15px;opacity:0.6;border-radius:2px}.abby-void-layout:hover .header-line-fluid{box-shadow:0 0 8px var(--witch-cyan);background:linear-gradient(90deg,var(--witch-cyan),transparent)}.abby-content{position:relative;z-index:2;font-size:1.05em;line-height:1.75;padding:10px 5px;text-shadow:0 1px 2px #000;transition:all 0.3s ease}.abby-void-layout:hover .abby-content{text-shadow:1px 0 var(--madness-pink),-1px 0 var(--witch-cyan);filter:blur(0.2px)}.pendulum-mechanism{position:absolute;top:10px;right:10px;width:60px;height:60px;z-index:5;display:flex;align-items:center;justify-content:center;pointer-events:none}.liquid-ring-outer{position:absolute;inset:-12px;border:2px dashed rgba(123,31,162,0.5);border-radius:50%;box-shadow:0 0 15px rgba(123,31,162,0.2);animation:chaos-morph 10s linear infinite}.abby-void-layout:hover .liquid-ring-outer{border-color:var(--witch-purple);border-style:solid;animation-duration:4s}.liquid-ring-inner{position:absolute;inset:-4px;border:1px solid rgba(0,229,255,0.3);border-radius:50%;animation:chaos-morph 7s linear infinite reverse}.abby-void-layout:hover .liquid-ring-inner{border-color:var(--witch-cyan);box-shadow:inset 0 0 10px var(--witch-cyan);animation-duration:3s}.key-scaler{position:absolute;inset:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;transition:transform 0.5s cubic-bezier(0.34,1.56,0.64,1)}.css-key-wrapper{position:absolute;width:100%;height:100%;transform-origin:50% 50%;animation:key-sway-smooth 8s ease-in-out infinite;filter:grayscale(100%) brightness(150%) drop-shadow(0 5px 5px rgba(0,0,0,0.5));transition:filter 0.5s ease}.ek-handle{position:absolute;width:12px;height:12px;top:50%;left:50%;transform:translate(-50%, -50%) rotate(45deg);border:2px double var(--mithril-white);box-shadow:0 0 5px var(--witch-cyan);background:rgba(0,0,0,0.3)}.ek-handle::after{content:'';position:absolute;inset:2px;border:1px solid var(--witch-purple);background:var(--witch-cyan);opacity:0.5}.ek-shaft{position:absolute;width:24px;height:3px;top:50%;left:50%;margin-top:-1.5px;background:linear-gradient(to bottom, #8a9bb8, #ffffff 50%, #8a9bb8);transform-origin:left center;border-radius:0 2px 2px 0}.ek-bit{position:absolute;width:5px;height:9px;top:50%;left:50%;margin-top:0px;margin-left:18px;background:var(--mithril-white);-webkit-mask:conic-gradient(from 45deg at 2px 2px, transparent 270deg, black 0deg),linear-gradient(to bottom, black 40%, transparent 40%, transparent 60%, black 60%);-webkit-mask-composite:xor;mask-composite:exclude;box-shadow:2px 0 0 var(--mithril-white)}.ek-bit::before{content:'';position:absolute;top:2px;left:-2px;width:3px;height:6px;border-right:2px solid var(--mithril-white);border-top:2px solid var(--mithril-white);border-bottom:2px solid var(--mithril-white)}.abby-void-layout:hover .key-scaler{transform:scale(1.4)}.abby-void-layout:hover .css-key-wrapper{filter:grayscale(0%) brightness(200%) drop-shadow(0 0 10px var(--witch-purple));animation-name:key-sway-active;animation-duration:8s}.eye-axis{position:absolute;width:4px;height:4px;background:var(--witch-cyan);border-radius:50%;box-shadow:0 0 5px var(--witch-cyan);z-index:20;opacity:0.9}.yog-sphere-group{position:absolute;bottom:-10px;right:-10px;width:100px;height:100px;z-index:1;pointer-events:none}.sphere{position:absolute;border-radius:50%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,0.9),rgba(123,31,162,0.2) 20%,rgba(0,229,255,0.3) 60%,rgba(0,0,0,0.1) 100%);box-shadow:inset 0 0 10px rgba(123,31,162,0.3);backdrop-filter:blur(2px);border:1px solid rgba(255,255,255,0.2);overflow:hidden}.s-main{width:70px;height:70px;bottom:10px;right:10px;animation:float-bubble 8s ease-in-out infinite}.sphere-shine{position:absolute;top:15%;left:15%;width:25%;height:25%;background:white;border-radius:50%;filter:blur(1px);opacity:0.8}.sphere-pupil{position:absolute;top:50%;left:50%;width:30%;height:30%;background:radial-gradient(circle, #000 40%, var(--witch-purple) 100%);border-radius:50%;transform:translate(-50%,-50%);opacity:0;filter:blur(2px);transition:opacity 1s ease;animation:pupil-look 10s infinite}.abby-void-layout:hover .sphere-pupil{opacity:0.8}.s-orbit-1{width:25px;height:25px;top:5px;left:15px;animation:float-bubble 6s ease-in-out infinite reverse}.s-orbit-2{width:35px;height:35px;bottom:5px;left:-5px;animation:float-bubble 10s ease-in-out infinite 1s}.tentacle-hint{position:absolute;bottom:10px;right:10px;width:50px;height:60px;background:radial-gradient(ellipse at center,rgba(0,0,0,0.6),transparent);border-radius:50% 50% 0 0;transform:rotate(-10deg);opacity:0.4;filter:blur(4px);animation:tentacle-sway 6s ease-in-out infinite}@media only screen and (max-width:768px){.abby-void-layout{display:flex;flex-direction:column;padding:15px;min-height:auto}.portrait-wrapper{position:relative;top:0;left:0;width:100%;display:flex;align-items:center;gap:10px;margin-bottom:12px;border-bottom:1px dashed rgba(123,31,162,0.3);padding-bottom:10px;justify-content:center}.portrait-frame-rect{width:80px;height:107px;border-width:1px;transform:rotate(0deg);box-shadow:0 2px 8px rgba(0,0,0,0.5)}.content-wrapper{margin-left:0}.abby-header{display:flex;margin-bottom:10px;padding-right:0}.abby-name-text{font-size:1.3em}.abby-content{font-size:0.95em;padding:0}}@keyframes noise-shift{0%{transform:translate(0,0)}10%{transform:translate(-5%,-5%)}20%{transform:translate(-10%,5%)}30%{transform:translate(5%,-10%)}40%{transform:translate(-5%,15%)}50%{transform:translate(-10%,5%)}60%{transform:translate(15%,0)}70%{transform:translate(0,10%)}80%{transform:translate(-15%,0)}90%{transform:translate(10%,5%)}100%{transform:translate(5%,0)}}@keyframes blob-float-left{0%{transform:translate(0,0) scale(1)}100%{transform:translate(10%,15%) scale(1.1)}}@keyframes blob-float-purple{0%{transform:translate(0,0) scale(1)}100%{transform:translate(15%,5%) scale(1.15)}}@keyframes blob-float-blue{0%{transform:translate(0,0) scale(1)}100%{transform:translate(-15%,-10%) scale(1.2)}}@keyframes color-rot-slow{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}@keyframes color-rot-medium{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}@keyframes color-rot-fast{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}@keyframes text-glitch{0%{text-shadow:2px 0 var(--madness-pink),-2px 0 var(--witch-cyan)}25%{text-shadow:-2px 0 var(--madness-pink),2px 0 var(--witch-cyan)}50%{text-shadow:2px 0 var(--witch-purple),-2px 0 var(--toxic-chartreuse)}75%{text-shadow:-2px 0 var(--witch-purple),2px 0 var(--toxic-chartreuse)}100%{text-shadow:2px 0 var(--madness-pink),-2px 0 var(--witch-cyan)}}@keyframes pupil-look{0%,100%{transform:translate(-50%,-50%)}25%{transform:translate(-30%,-50%)}75%{transform:translate(-70%,-40%)}}@keyframes border-rotate{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}@keyframes tide-flow{0%{left:-100%;opacity:0}50%{opacity:1}100%{left:200%;opacity:0}}@keyframes float-bubble{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-15px) scale(1.05)}}@keyframes tentacle-sway{0%,100%{transform:rotate(-10deg) scale(1)}50%{transform:rotate(5deg) scale(1.1)}}@keyframes rune-flicker{0%,100%{opacity:0.6;transform:scale(1)}50%{opacity:1;transform:scale(1.2) rotate(180deg);color:var(--madness-pink)}}@keyframes chaos-morph{0%{border-radius:30% 70% 70% 30% / 30% 30% 70% 70%;transform:rotate(0deg)}50%{border-radius:70% 30% 30% 70% / 70% 70% 30% 30%}100%{border-radius:30% 70% 70% 30% / 30% 30% 70% 70%;transform:rotate(360deg)}}@keyframes key-sway-smooth{0%{transform:rotate(30deg)}50%{transform:rotate(120deg)}100%{transform:rotate(30deg)}}@keyframes key-sway-active{0%{transform:rotate(20deg)}50%{transform:rotate(130deg)}100%{transform:rotate(20deg)}}</style>",
    "trimStrings": [],
    "placement": [
        2
    ],
    "disabled": false,
    "markdownOnly": true,
    "promptOnly": false,
    "runOnEdit": true,
    "substituteRegex": 0,
    "minDepth": null,
    "maxDepth": 6
}