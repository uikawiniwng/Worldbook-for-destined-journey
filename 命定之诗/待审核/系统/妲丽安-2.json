{
    "id": "ef7a7b77-c3c6-4a13-a64b-87a6386bbe76",
    "scriptName": "妲丽安-幻书咏唱美化",
    "findRegex": "/<dalian_chant name=\"(.*?)\" color=\"(.*?)\">\\s*[「]?\\s*([\\s\\S]*?)\\s*[」]?\\s*<\\/dalian_chant>/g",
    "replaceString": "<div class=\"chant-foldable\" style=\"--base-color:$2;\"><details><summary class=\"spell-summary\"><span class=\"summary-deco\">❖</span><span class=\"summary-title\">$1</span><span class=\"summary-deco\">❖</span><div class=\"summary-hint\">CLICK TO OPEN</div></summary><div class=\"spell-content-wrapper\"><div class=\"bg-texture\"></div><div class=\"border-frame\"></div><div class=\"text-body-mask\"><div class=\"spell-content-italic\">$3</div></div><div class=\"footer-deco\"></div></div></details></div><style>@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=UnifrakturMaguntia&display=swap');.chant-foldable{--bg-dark:#0a0a0c;position:relative;margin:15px 0;width:100%;isolation:isolate}.chant-foldable details{background:linear-gradient(90deg,rgba(0,0,0,0) 0%,rgba(20,20,25,0.9) 20%,rgba(20,20,25,0.9) 80%,rgba(0,0,0,0) 100%);border-top:1px solid var(--base-color);border-bottom:1px solid var(--base-color);transition:all 0.5s ease;overflow:hidden}.chant-foldable details[open]{background:radial-gradient(circle at center,#1a1a1d 0%,#050505 100%);padding-bottom:20px;box-shadow:0 10px 30px rgba(0,0,0,0.8)}.spell-summary{list-style:none;padding:15px;cursor:pointer;text-align:center;position:relative;transition:background 0.3s;color:var(--base-color);font-family:'UnifrakturMaguntia',cursive;font-size:1.5em;letter-spacing:2px;text-shadow:0 0 5px var(--base-color)}.spell-summary::-webkit-details-marker{display:none}.spell-summary:hover{background:rgba(255,255,255,0.05);text-shadow:0 0 15px var(--base-color)}.summary-deco{font-size:0.8em;opacity:0.6;margin:0 15px;vertical-align:middle}.summary-hint{font-family:'Cinzel',serif;font-size:0.4em;letter-spacing:3px;opacity:0.4;margin-top:5px;font-weight:700}.spell-content-wrapper{position:relative;padding:20px 20px 40px 20px;text-align:center;animation:fade-in 1s ease forwards}.bg-texture{position:absolute;top:0;left:0;width:100%;height:100%;background-image:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNSIgbnVtT2N0YXZlcz0iMyIgc3RpdGNoVGlsZXM9InN0aXRjaCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbHRlcj0idXJsKCNub2lzZSkiIG9wYWNpdHk9IjAuMDUiLz48L3N2Zz4=');opacity:0.4;z-index:-1;pointer-events:none}.border-frame{position:absolute;top:0;left:10px;right:10px;bottom:0;border-left:1px double var(--base-color);border-right:1px double var(--base-color);opacity:0.2;pointer-events:none}.text-body-mask{position:relative;z-index:2;/* 只有在details展开时才会渲染此块，动画会重新触发 */animation:reveal-text 28s linear forwards;will-change:clip-path}.spell-content-italic{font-family:'Times New Roman',serif;font-style:italic;font-size:1.4em;font-weight:700;line-height:1.4;color:#dcdcdc;text-shadow:0 2px 4px #000;white-space:pre-line;letter-spacing:0.5px}.spell-content-italic b{display:block;font-family:'Cinzel',serif;font-style:normal;font-size:0.6em;color:var(--base-color);font-weight:400;letter-spacing:1.5px;opacity:0.7;margin-top:18px;margin-bottom:2px;text-transform:uppercase}.spell-content-italic b::before{content:'✦ ';opacity:0.4}.spell-content-italic b::after{content:' ✦';opacity:0.4}.footer-deco{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);width:40px;height:40px;background:radial-gradient(circle,var(--base-color),transparent 70%);opacity:0.2;filter:blur(5px)}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}@keyframes reveal-text{0%{clip-path:inset(0 0 100% 0)}100%{clip-path:inset(0 0 -50% 0)}}</style>",
    "trimStrings": [],
    "placement": [
        2
    ],
    "disabled": false,
    "markdownOnly": true,
    "promptOnly": false,
    "runOnEdit": true,
    "substituteRegex": 0,
    "minDepth": null,
    "maxDepth": 10
}
